{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  extends: [
    "config:base",
    ":gitSignOff",
    ":disableDependencyDashboard"
  ],
  packageRules: [
    // Maintain -slim flavor
    {
      "matchDatasources": ["docker"],
      "matchPackageNames": ["renovatebot/renovate"],
      "versioning": "regex:^(?<compatibility>.*)-(?<minor>\\d+)-slim$"
    },
  ],
  customManagers: [
    {
      "customType": "regex",
      "fileMatch": ["(^|/)Dockerfile$", "(^|/)Dockerfile\\.[^/]*$"],
      "matchStrings": [
        "renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\sARG .*?_VER=(?<currentValue>.*)\\s"
      ],
      "versioningTemplate": "{{#if versioning}}{{{versioning}}}{{else}}semver{{/if}}",
      "extractVersionTemplate": "^v?(?<version>\\d+\\.\\d+\\.\\d+)"
    }
  ],
}
